# MLOps. Практическое задание №2

## Датасет  
__Наименование__: Electricity (ELEC2)  
  
__Ссылки__: 
[OpenML](https://www.openml.org/search?type=data&status=active&id=151&sort=runs)
  
__Описание__:  
  
Набор данных содержит 45 312 экземпляров, датированных с 7 мая 1996 г. по 5 декабря 1998 г. Каждый пример набора данных относится к периоду в 30 минут, т.е. на каждый период времени в один день приходится 48 экземпляров. Каждый пример в наборе данных имеет 5 полей, день недели, отметку времени, спрос на электроэнергию в Новом Южном Уэльсе, спрос на электроэнергию в Виктории, запланированную передачу электроэнергии между штатами и метку класса. Метка класса определяет изменение цены (ВВЕРХ или ВНИЗ) в Новом Южном Уэльсе относительно скользящего среднего за последние 24 часа (и устраняет влияние долгосрочных ценовых тенденций).
  
__Информация о колонках__:  
Колонка | Описание
-|-
date | дата с 07.05.1996 по 05.12.1998 г. (нормализовано)
day | день недели (1-7)
period | номер получасового интервала (1-48) (нормализовано)
nswprice | цена на электроэнергию в Новом Южном Уэльсе (нормализовано)
nswdemand | спрос на электроэнергию в Новом Южном Уэльсе (нормализовано)
vicprice | цена на электроэнергию в штате Виктория (нормализовано)
vicdemand | спрос на электроэнергию в штате Виктория (нормализовано)
transfer | запланированная передача электроэнергии между обоими штатами (нормализовано)
class | направление изменение цены (UP, DOWN)

## Этапы

### 1. Создание данных

Скрипт [create_dataset.py](create_dataset.py) выкачивает данные с OpenML, делает предобработку с помощью таких методов как `QuantileReplacer`, `OneHotEncoder`, `PowerTransformer`, делит данные на `train` и `test` и сохраняет их.

### 2. Обучение модели

Скрипт [train_model.py](train_model.py) создает, обучает и сохраняет `sklearn.ensemble.GradientBoostingRegressor` модель на `train` данных.

### 3. Тестирование модели

Скрипт [make_prediction.py](make_prediction.py) загружает и проверяет модель на `test` данных с помощью метрик `MSE` и `R2`.

## Использование

Для запуска пайплана необходимо настроить Jenkins для выполнения Jenkinsfile (Pipeline script from SCM), указав URL репозитория, ветку и путь до Jenkinsfile.  
После этого можно запускать пайплайн в Jenkins.
